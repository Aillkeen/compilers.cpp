<!--
C++ Compiler Project

Date:
    2014-FEB-12

Authors:
    Jeanderson Candido - http://jeandersonbc.github.io
    Thiago Ferreira

-->
<project name="CompilerProject" basedir="." default="jflex">

  <!-- PROPERTIES -->
  <property file="build.properties"/>

  <!-- TASKs -->

  <target name="clean">
    <delete dir="${src.gen}"/>
    <delete dir="${bin}"/>
  </target>

  <target name="init" depends="clean">
    <mkdir dir="${src}"/>
    <mkdir dir="${bin}"/>
  </target>

  <target name="jflex" depends="init">
    <java jar="libs/jflex-1.5.0.jar" fork="true">
      <arg line="--noinputstreamctor -d ${src.gen} ${scanner.spec}"/>
    </java>
  </target>

  <target name="cup">
	<java jar="libs/java-cup-11a.jar" fork="true">
	  <arg line="-package compiler.generated -destdir ${src.gen} -parser Parser ${parser.spec}"/>
	</java>
  </target>


  <!-- TODO -->
  <target name="compile" depends="jflex, cup">
    <javac srcdir="${src}" destdir="${bin}"/>
  </target>

</project>
